<html>
  <head>
	<meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width">
    <script src="//cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.6/p5.js"></script>
	<script src="https://raw.githubusercontent.com/processing/p5.js-sound/master/lib/p5.sound.js"></script>

    <script src="sketch.js"></script>
  </head>
  <body>
    
    
    <script>
	    
	    var osc, fft, m;


 function setup() {
	 
 	createCanvas(displayWidth, displayHeight);
  osc = new p5.TriOsc(); // set frequency and type
  osc.amp(.5);

  fft = new p5.FFT();
  osc.start();
}

function touchMoved() {
	var m=((mouseX-pmouseX)+(mouseY-pmouseY))*5;

	strokeWeight(m);
	stroke(mouseX,55+mouseY*200/displayHeight,100+mouseX*155/displayWidth,60);
	line(mouseX, mouseY, pmouseX, pmouseY);
	

	stroke(100+mouseX*155/displayWidth,mouseY,55+mouseY*200/displayHeight);
	line(displayWidth-mouseX, displayHeight-mouseY, displayWidth-pmouseX, displayHeight-pmouseY,60);
	
	
	
	stroke(55+mouseY*200/displayHeight,100+mouseX*155/displayWidth,mouseY);
	line(displayWidth-mouseX, mouseY, displayWidth-pmouseX, pmouseY);
	
		
	stroke(55+mouseX*200/displayWidth,mouseX,100+mouseY*155/displayHeight);
	line(mouseX, displayHeight-mouseY, pmouseX, displayHeight-pmouseY);
	
	
	
 
  var waveform = fft.waveform();  // analyze the waveform
  

  // change oscillator frequency based on mouseX
  var freq = map(m, 0, width, 40, 880);
  osc.freq(freq);

  var amp = map(mouseY, 0, height, 1, .01);
  osc.amp(amp);
	return false;
	
}
function  touchEnded(){
	  var waveform = fft.waveform();  // analyze the waveform
	osc.amp(0.5);
	
return false;
}
	  
	  </script>
  </body>
</html>



